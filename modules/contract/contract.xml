<?xml version="1.0" encoding="UTF-8"?>
<tryton>
  <data>
    <!--################################################################ -->
    <!-- Status History -->
    <!--################################################################ -->
    <record model="ir.ui.view" id="status_history_view_form">
      <field name="model">contract.status.history</field>
      <field name="type">form</field>
      <field name="name">status_history_form</field>
    </record>
    <record model="ir.ui.view" id="status_history_view_tree">
      <field name="model">contract.status.history</field>
      <field name="type">tree</field>
      <field name="name">status_history_tree</field>
    </record>
    <!--################################################################ -->
    <!-- Contract Screens -->
    <!--################################################################ -->
    <record model="ir.ui.view" id="contract_view_tree">
      <field name="model">contract</field>
      <field name="type">tree</field>
      <field name="name">contract_tree</field>
    </record>
    <record model="ir.ui.view" id="contract_view_form">
      <field name="model">contract</field>
      <field name="type">form</field>
      <field name="name">contract_form</field>
    </record>
    <!-- Read / Write rule -->
    <record model="ir.rule.group" id="rule_group_contract">
      <field name="model" search="[('model', '=', 'contract')]"/>
      <field name="global_p" eval="True"/>
    </record>
    <record model="ir.rule" id="rule_contract_1">
      <field name="domain">[('company', 'in', [c.id for c in user.companies])]</field>
      <field name="rule_group" ref="rule_group_contract"/>
    </record>
    <!-- Entry point -->
    <record model="ir.action.act_window" id="act_contract_form">
      <field name="name">Contract</field>
      <field name="res_model">contract</field>
      <field name="domain">[('company', '=', Eval('context', {}).get('company', False))]</field>
    </record>
    <record model="ir.action.act_window.view" id="act_contract_form_view1">
      <field name="sequence" eval="10"/>
      <field name="view" ref="contract_view_tree"/>
      <field name="act_window" ref="act_contract_form"/>
    </record>
    <record model="ir.action.act_window.view" id="act_contract_form_view2">
      <field name="sequence" eval="20"/>
      <field name="view" ref="contract_view_form"/>
      <field name="act_window" ref="act_contract_form"/>
    </record>
    <!--################################################################ -->
    <!-- Options Screens -->
    <!--################################################################ -->
    <record model="ir.ui.view" id="option_view_tree">
      <field name="model">contract.option</field>
      <field name="type">tree</field>
      <field name="name">option_tree</field>
    </record>
    <record model="ir.ui.view" id="option_view_form">
      <field name="model">contract.option</field>
      <field name="type">form</field>
      <field name="name">option_form</field>
    </record>
    <!--################################################################ -->
    <!-- Contract Address -->
    <!--################################################################ -->
    <record model="ir.ui.view" id="contract_address_view_tree">
      <field name="model">contract.address</field>
      <field name="type">tree</field>
      <field name="name">contract_address_tree</field>
    </record>
    <record model="ir.ui.view" id="contract_address_view_form">
      <field name="model">contract.address</field>
      <field name="type">form</field>
      <field name="name">contract_address_form</field>
    </record>
    <!-- ############################################################ -->
    <!-- Contract Clause -->
    <!-- ############################################################ -->
    <record model="ir.ui.view" id="clause_form">
      <field name="model">contract.clause</field>
      <field name="type">form</field>
      <field name="name">clause_form</field>
    </record>
    <record model="ir.ui.view" id="clause_tree">
      <field name="model">contract.clause</field>
      <field name="type">tree</field>
      <field name="name">clause_tree</field>
    </record>
    <!--################################################################ -->
    <!-- Delivered Service -->
    <!--################################################################ -->
    <record model="ir.ui.view" id="delivered_service_view_form">
        <field name="model">contract.service</field>
        <field name="type">form</field>
        <field name="name">delivered_service_form</field>
    </record>
    <record model="ir.ui.view" id="delivered_service_view_tree">
        <field name="model">contract.service</field>
        <field name="type">tree</field>
        <field name="name">delivered_service_tree</field>
    </record>
  </data>
</tryton>
