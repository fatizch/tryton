<?xml version="1.0"?>
<tryton>
    <data>
        <!-- ########################## -->
        <!-- # Endorsement Definition # -->
        <!-- ########################## -->
        <record model="ir.ui.view" id="endorsement_definition_view_form">
            <field name="model">endorsement.definition</field>
            <field name="type">form</field>
            <field name="inherit" ref="endorsement.endorsement_definition_view_form"/>
            <field name="name">endorsement_definition_form</field>
        </record>
        <record model="ir.ui.view" id="endorsement_definition_view_list">
            <field name="model">endorsement.definition</field>
            <field name="type">tree</field>
            <field name="inherit" ref="endorsement.endorsement_definition_view_list"/>
            <field name="name">endorsement_definition_list</field>
        </record>
        <!-- #################### -->
        <!-- # Endorsement Part # -->
        <!-- #################### -->
        <record model="ir.ui.view" id="endorsement_part_view_form">
            <field name="model">endorsement.part</field>
            <field name="type">form</field>
            <field name="inherit" ref="endorsement.endorsement_part_view_form"/>
            <field name="name">endorsement_part_form</field>
        </record>
        <!-- ######################################### -->
        <!-- # Endorsement Billing Information Field # -->
        <!-- ######################################### -->
        <record model="ir.ui.view" id="endorsement_contract_billing_information_field_view_form">
            <field name="model">endorsement.contract.billing_information.field</field>
            <field name="type">form</field>
            <field name="name">endorsement_field_form</field>
        </record>
        <record model="ir.ui.view" id="endorsement_contract_billing_information_field_view_list">
            <field name="model">endorsement.contract.billing_information.field</field>
            <field name="type">tree</field>
            <field name="name">endorsement_field_list</field>
        </record>
        <!-- ###################### -->
        <!-- # Method Definitions # -->
        <!-- ###################### -->
        <record model="ir.model.method" id="contract_rebill_after_endorsement_method">
            <field name="method_name">rebill_after_endorsement</field>
            <field name="name">Rebill After Endorsement</field>
            <field name="model" search="[('model', '=', 'contract')]"/>
            <field name="priority">2000</field>
        </record>
        <!-- ############################################## -->
        <!-- # Billing Information Endorsement Definition # -->
        <!-- ############################################## -->
        <record model="endorsement.definition" id="change_billing_information_definition">
            <field name="code">change_billing_information</field>
            <field name="name">Change Billing Information</field>
        </record>
        <record model="endorsement.part" id="change_billing_information_endorsement_part">
            <field name="code">change_billing_information</field>
            <field name="name">Change Billing Information</field>
            <field name="kind">billing_information</field>
            <field name="requires_contract_rebill" eval="True"/>
            <field name="view">change_billing_information</field>
        </record>
        <record model="endorsement.definition-endorsement.part" id="change_billing_information_relation">
            <field name="definition" ref="change_billing_information_definition"/>
            <field name="endorsement_part" ref="change_billing_information_endorsement_part"/>
            <field name="order">1</field>
        </record>
        <record model="endorsement.contract.billing_information.field" id="billing_mode_field">
            <field name="field" search="[('model.model', '=', 'contract.billing_information'), ('name', '=', 'billing_mode')]"/>
            <field name="endorsement_part" ref="change_billing_information_endorsement_part"/>
        </record>
        <record model="endorsement.contract.billing_information.field" id="contract_field">
            <field name="field" search="[('model.model', '=', 'contract.billing_information'), ('name', '=', 'contract')]"/>
            <field name="endorsement_part" ref="change_billing_information_endorsement_part"/>
        </record>
        <record model="endorsement.contract.billing_information.field" id="direct_debit_field">
            <field name="field" search="[('model.model', '=', 'contract.billing_information'), ('name', '=', 'direct_debit')]"/>
            <field name="endorsement_part" ref="change_billing_information_endorsement_part"/>
        </record>
        <record model="endorsement.contract.billing_information.field" id="direct_debit_account_field">
            <field name="field" search="[('model.model', '=', 'contract.billing_information'), ('name', '=', 'direct_debit_account')]"/>
            <field name="endorsement_part" ref="change_billing_information_endorsement_part"/>
        </record>
        <record model="endorsement.contract.billing_information.field" id="direct_debit_day_field">
            <field name="field" search="[('model.model', '=', 'contract.billing_information'), ('name', '=', 'direct_debit_day')]"/>
            <field name="endorsement_part" ref="change_billing_information_endorsement_part"/>
        </record>
        <record model="endorsement.contract.billing_information.field" id="direct_debit_day_selector_field">
            <field name="field" search="[('model.model', '=', 'contract.billing_information'), ('name', '=', 'direct_debit_day_selector')]"/>
            <field name="endorsement_part" ref="change_billing_information_endorsement_part"/>
        </record>
        <record model="endorsement.contract.billing_information.field" id="payment_term_field">
            <field name="field" search="[('model.model', '=', 'contract.billing_information'), ('name', '=', 'payment_term')]"/>
            <field name="endorsement_part" ref="change_billing_information_endorsement_part"/>
        </record>
        <!-- ###################################################### -->
        <!-- # Change Direct Debit Account Endorsement Definition # -->
        <!-- ###################################################### -->
        <record model="endorsement.definition" id="change_direct_debit_account_definition">
            <field name="code">change_direct_debit_account</field>
            <field name="name">Change Direct Debit Account</field>
        </record>
        <record model="endorsement.part" id="change_direct_debit_account_endorsement_part">
            <field name="code">change_direct_debit_account</field>
            <field name="name">Change Direct Debit Account</field>
            <field name="kind">billing_information</field>
            <field name="view">change_direct_debit_account</field>
        </record>
        <record model="endorsement.definition-endorsement.part" id="change_direct_debit_account_relation">
            <field name="definition" ref="change_direct_debit_account_definition"/>
            <field name="endorsement_part" ref="change_direct_debit_account_endorsement_part"/>
            <field name="order">1</field>
        </record>
        <record model="endorsement.contract.billing_information.field" id="direct_debit_account_field_1">
            <field name="field" search="[('model.model', '=', 'contract.billing_information'), ('name', '=', 'direct_debit_account')]"/>
            <field name="endorsement_part" ref="change_direct_debit_account_endorsement_part"/>
        </record>
        <!-- ####################### -->
        <!-- # Set Requires Rebill # -->
        <!-- ####################### -->
        <record model="endorsement.part" id="endorsement.change_contract_start_date_revision_part">
            <field name="requires_contract_rebill" eval="True"/>
        </record>
        <record model="endorsement.part" id="endorsement.change_contract_subscriber_revision_part">
            <field name="requires_contract_rebill" eval="True"/>
        </record>
        <record model="endorsement.part" id="endorsement.manage_options_revision_part">
            <field name="requires_contract_rebill" eval="True"/>
        </record>
        <record model="endorsement.part" id="endorsement.stop_contract_revision_part">
            <field name="requires_contract_rebill" eval="True"/>
        </record>
        <record model="endorsement.part" id="endorsement.void_contract_revision_part">
            <field name="requires_contract_rebill" eval="True"/>
        </record>
        <record model="endorsement.part" id="endorsement.reactivate_contract_revision_part">
            <field name="requires_contract_rebill" eval="True"/>
        </record>
    </data>
</tryton>
