<?xml version="1.0" encoding="utf-8"?>
<tryton>
  <data>
    <!--################################################################ -->
    <!-- Payment Methods -->
    <!--################################################################ -->
    <record model="ir.ui.view" id="payment_method_form">
      <field name="model">billing.payment.method</field>
      <field name="type">form</field>
      <field name="name">payment_method_form</field>
    </record>
    <record model="ir.ui.view" id="payment_method_tree">
      <field name="model">billing.payment.method</field>
      <field name="type">tree</field>
      <field name="name">payment_method_tree</field>
    </record>
    <!-- Read / Write rule -->
    <record model="ir.rule.group" id="rule_group_payment_method">
        <field name="model" search="[('model', '=', 'billing.payment.method')]"/>
        <field name="global_p" eval="True"/>
    </record>
    <record model="ir.rule" id="rule_payment_method_1">
      <field name="domain">[('payment_rule.company', 'in', [c.id for c in user.companies])]</field>
      <field name="rule_group" ref="rule_group_payment_method"/>
    </record>
    <!-- Entry Point -->
    <record model="ir.action.act_window" id="act_payment_method">
      <field name="name">Payment Methods</field>
      <field name="res_model">billing.payment.method</field>
      <field name="domain">[('payment_rule.company', '=', Eval('context', {}).get('company', False))]</field>
    </record>
    <record model="ir.action.act_window.view" id="act_payment_method_view1">
      <field name="sequence" eval="16"/>
      <field name="view" ref="payment_method_tree"/>
      <field name="act_window" ref="act_payment_method"/>
    </record>
    <record model="ir.action.act_window.view" id="act_payment_method_view2">
      <field name="sequence" eval="16"/>
      <field name="view" ref="payment_method_form"/>
      <field name="act_window" ref="act_payment_method"/>
    </record>
    <menuitem parent="offered.menu_product_configuration" sequence="10" action="act_payment_method" id="menu_payment_method"/>
    <!--################################################################ -->
    <!-- Price Lines -->
    <!--################################################################ -->
    <record model="ir.ui.view" id="price_line_expandable_view_tree">
      <field name="model">contract.billing.premium</field>
      <field name="type">tree</field>
      <field name="field_childs">all_lines</field>
      <field name="name">price_line_expandable_tree</field>
      <field name="priority">20</field>
    </record>
    <record model="ir.ui.view" id="price_line_view_tree">
      <field name="model">contract.billing.premium</field>
      <field name="type">tree</field>
      <field name="name">price_line_tree</field>
    </record>
    <record model="ir.ui.view" id="price_line_view_form">
      <field name="model">contract.billing.premium</field>
      <field name="type">form</field>
      <field name="name">price_line_form</field>
    </record>
    <!--################################################################ -->
    <!-- Tax lines -->
    <!--################################################################ -->
    <record model="ir.ui.view" id="price_line-tax-relation_form">
      <field name="model">contract.billing.premium-tax</field>
      <field name="type">form</field>
      <field name="name">price_line-tax-relation_form</field>
    </record>
    <record model="ir.ui.view" id="price_line-tax-relation_tree">
      <field name="model">contract.billing.premium-tax</field>
      <field name="type">tree</field>
      <field name="name">price_line-tax-relation_tree</field>
    </record>
    <!-- Read / Write rule -->
    <record model="ir.rule.group" id="rule_group_tax">
      <field name="model" search="[('model', '=', 'account.tax.description')]"/>
      <field name="global_p" eval="True"/>
    </record>
    <record model="ir.rule" id="rule_tax_1">
      <field name="domain">[('company', 'in', [c.id for c in user.companies])]</field>
      <field name="rule_group" ref="rule_group_tax"/>
    </record>
    <!-- Entry Point -->
    <record model="ir.action.act_window" id="coop_account.act_tax_form">
      <field name="domain">[('account_for_billing.company', '=', Eval('context', {}).get('company', False))]</field>
    </record>
    <!--################################################################ -->
    <!-- Fee Lines -->
    <!--################################################################ -->
    <record model="ir.ui.view" id="price_line-fee-relation_form">
      <field name="model">contract.billing.premium-fee</field>
      <field name="type">form</field>
      <field name="name">price_line-fee-relation_form</field>
    </record>
    <record model="ir.ui.view" id="price_line-fee-relation_tree">
      <field name="model">contract.billing.premium-fee</field>
      <field name="type">tree</field>
      <field name="name">price_line-fee-relation_tree</field>
    </record>
    <!-- Read / Write rule -->
    <record model="ir.rule.group" id="rule_group_fee">
      <field name="model" search="[('model', '=', 'account.fee.description')]"/>
      <field name="global_p" eval="True"/>
    </record>
    <record model="ir.rule" id="rule_fee_1">
      <field name="domain">[('company', 'in', [c.id for c in user.companies])]</field>
      <field name="rule_group" ref="rule_group_fee"/>
    </record>
    <!-- Entry Point -->
    <record model="ir.action.act_window" id="coop_account.act_fee_form">
      <field name="domain">[('account_for_billing.company', '=', Eval('context', {}).get('company', False))]</field>
    </record>
    <!--################################################################ -->
    <!-- Billing Manager -->
    <!--################################################################ -->
    <record model="ir.ui.view" id="billing_manager_view_form">
      <field name="model">contract.billing.data</field>
      <field name="type">form</field>
      <field name="name">billing_manager_form</field>
    </record>
    <record model="ir.ui.view" id="billing_manager_tree">
      <field name="model">contract.billing.data</field>
      <field name="type">tree</field>
      <field name="name">billing_manager_tree</field>
    </record>
    <!--################################################################ -->
    <!-- Billing Period -->
    <!--################################################################ -->
    <record model="ir.ui.view" id="billing_period_view_form">
      <field name="model">contract.billing.period</field>
      <field name="type">form</field>
      <field name="name">billing_period_form</field>
    </record>
    <record model="ir.ui.view" id="billing_period_tree">
      <field name="model">contract.billing.period</field>
      <field name="type">tree</field>
      <field name="name">billing_period_tree</field>
    </record>
    <!--################################################################-->
    <!-- Contract -->
    <!--################################################################-->
    <record model="ir.ui.view" id="contract_form">
      <field name="model">contract</field>
      <field name="type">form</field>
      <field name="inherit" ref="contract.contract_view_form"/>
      <field name="name">contract_form</field>
    </record>
    <record model="ir.ui.view" id="contract_tree">
      <field name="model">contract</field>
      <field name="type">tree</field>
      <field name="inherit" ref="contract.contract_view_tree"/>
      <field name="name">contract_tree</field>
    </record>
    <!--################################################################-->
    <!-- Covered Element -->
    <!--################################################################-->
    <record model="ir.ui.view" id="covered_element_form">
      <field name="model">contract.covered_element</field>
      <field name="type">form</field>
      <field name="inherit" ref="insurance_contract.covered_element_view_form"/>
      <field name="name">covered_element_form</field>
    </record>
    <!--################################################################-->
    <!-- Product Payment Method Relation -->
    <!--################################################################-->
    <record model="ir.ui.view" id="product-payment_method-relation_tree">
      <field name="model">offered.product-billing.payment.method</field>
      <field name="type">tree</field>
      <field name="name">product-payment_method-relation_tree</field>
    </record>
    <record model="ir.ui.view" id="product-payment_method-relation_form">
      <field name="model">offered.product-billing.payment.method</field>
      <field name="type">form</field>
      <field name="name">product-payment_method-relation_form</field>
    </record>
    <!--################################################################-->
    <!-- Product -->
    <!--################################################################-->
    <record model="ir.ui.view" id="product_form">
      <field name="model">offered.product</field>
      <field name="type">form</field>
      <field name="inherit" ref="offered.product_view_form"/>
      <field name="name">product_form</field>
    </record>
    <!--################################################################-->
    <!-- Coverage -->
    <!--################################################################-->
    <record model="ir.ui.view" id="coverage_form">
      <field name="model">offered.option.description</field>
      <field name="type">form</field>
      <field name="inherit" ref="offered.coverage_view_form"/>
      <field name="name">coverage_form</field>
    </record>
    <!--################################################################-->
    <!-- Tax Version -->
    <!--################################################################-->
    <record model="ir.ui.view" id="tax_desc_form">
      <field name="model">account.tax.description</field>
      <field name="type">form</field>
      <field name="inherit" ref="coop_account.tax_desc_view_form"/>
      <field name="name">tax_desc_form</field>
    </record>
    <!--################################################################-->
    <!-- Fee Version -->
    <!--################################################################-->
    <record model="ir.ui.view" id="fee_desc_form">
      <field name="model">account.fee.description</field>
      <field name="type">form</field>
      <field name="inherit" ref="coop_account.fee_desc_view_form"/>
      <field name="name">fee_desc_form</field>
    </record>
    <!--################################################################-->
    <!--                           Menus                                -->
    <!--################################################################-->
    <record model="ir.action.act_window" id="act_open_move_form">
      <field name="name">Moves</field>
      <field name="res_model">account.move</field>
      <field name="domain">[('origin', '=', ('contract', Eval('id')))]</field>
    </record>
    <record model="ir.action.keyword" id="act_open_move_keyword1">
      <field name="keyword">form_relate</field>
      <field name="model">contract,-1</field>
      <field name="action" ref="act_open_move_form"/>
    </record>
    <record model="ir.action.act_window" id="act_open_billing_period_form">
      <field name="name">Billing Periods</field>
      <field name="res_model">contract.billing.period</field>
      <field name="domain">[('contract', '=', Eval('id'))]</field>
    </record>
    <record model="ir.action.keyword" id="act_open_billing_period_keyword1">
      <field name="keyword">form_relate</field>
      <field name="model">contract,-1</field>
      <field name="action" ref="act_open_billing_period_form"/>
    </record>
  </data>
</tryton>
