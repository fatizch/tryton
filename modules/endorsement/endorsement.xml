<?xml version="1.0" encoding="UTF-8"?>
<tryton>
    <data>
        <!-- ######### -->
        <!-- # Menus # -->
        <!-- ######### -->
        <menuitem parent="offered.menu_contract_configuration" name="Endorsement Configuration" id="menu_configuration" sequence="0" icon="tryton-preferences"/>
        <!-- ############### -->
        <!-- # Endorsement # -->
        <!-- ############### -->
        <record model="ir.ui.view" id="endorsement_view_form">
            <field name="model">endorsement</field>
            <field name="type">form</field>
            <field name="name">endorsement_form</field>
        </record>
        <record model="ir.ui.view" id="endorsement_view_list">
            <field name="model">endorsement</field>
            <field name="type">tree</field>
            <field name="name">endorsement_list</field>
        </record>
        <!-- Entry Point -->
        <record model="ir.action.act_window" id="act_endorsement">
            <field name="name">Endorsement</field>
            <field name="res_model">endorsement</field>
            <field name="domain" eval="[('contracts', '=', Eval('active_id'))]" pyson="1"/>
            <field name="context" eval="{'contract': Eval('active_id')}" pyson="1"/>
        </record>
        <record model="ir.action.act_window.view" id="act_endorsement_view1">
            <field name="sequence" eval="10"/>
            <field name="view" ref="endorsement_view_list"/>
            <field name="act_window" ref="act_endorsement"/>
        </record>
        <record model="ir.action.act_window.view" id="act_endorsement_view2">
            <field name="sequence" eval="10"/>
            <field name="view" ref="endorsement_view_form"/>
            <field name="act_window" ref="act_endorsement"/>
        </record>
        <record model="ir.action.act_window.domain" id="act_endorsement_domain_applied">
            <field name="name">Applied</field>
            <field name="sequence" eval="10"/>
            <field name="domain" eval="[('state', 'in', ('applied', 'canceled'))]" pyson="1"/>
            <field name="act_window" ref="act_endorsement"/>
        </record>
        <record model="ir.action.act_window.domain" id="act_endorsement_domain_started">
            <field name="name">Started</field>
            <field name="sequence" eval="20"/>
            <field name="domain" eval="[('state', 'not in', ('applied', 'canceled'))]" pyson="1"/>
            <field name="act_window" ref="act_endorsement"/>
        </record>
        <record model="ir.action.keyword" id="act_show_endorsements_keyword">
            <field name="keyword">form_relate</field>
            <field name="model">contract,-1</field>
            <field name="action" ref="act_endorsement"/>
        </record>
        <!-- Draft endorsements entry point -->
        <record model="ir.action.act_window" id="act_all_endorsements">
            <field name="name">Endorsements</field>
            <field name="res_model">endorsement</field>
            <field name="search_value" eval="[('state', 'not in', ('applied', 'canceled'))]" pyson="1"/>
        </record>
        <record model="ir.action.act_window.view" id="act_all_endorsement_view1">
            <field name="sequence" eval="10"/>
            <field name="view" ref="endorsement_view_list"/>
            <field name="act_window" ref="act_all_endorsements"/>
        </record>
        <record model="ir.action.act_window.view" id="act_all_endorsement_view2">
            <field name="sequence" eval="10"/>
            <field name="view" ref="endorsement_view_form"/>
            <field name="act_window" ref="act_all_endorsements"/>
        </record>
        <menuitem name="Endorsements" parent="offered.menu_contract_configuration" id="menu_all_endorsements" action="act_all_endorsements" sequence="100"/>
        <!-- ##################### -->
        <!-- # Endorsement Group # -->
        <!-- ##################### -->
        <record model="ir.ui.view" id="endorsement_contract_view_form">
            <field name="model">endorsement.contract</field>
            <field name="type">form</field>
            <field name="name">endorsement_contract_form</field>
        </record>
        <record model="ir.ui.view" id="endorsement_contract_view_list">
            <field name="model">endorsement.contract</field>
            <field name="type">tree</field>
            <field name="name">endorsement_contract_list</field>
        </record>
        <!-- ###################### -->
        <!-- # Endorsement Option # -->
        <!-- ###################### -->
        <record model="ir.ui.view" id="endorsement_contract_option_view_form">
            <field name="model">endorsement.contract.option</field>
            <field name="type">form</field>
            <field name="name">endorsement_contract_option_form</field>
        </record>
        <record model="ir.ui.view" id="endorsement_contract_option_view_list">
            <field name="model">endorsement.contract.option</field>
            <field name="type">tree</field>
            <field name="name">endorsement_contract_option_list</field>
        </record>
        <!-- ################################## -->
        <!-- # Endorsement Activation History # -->
        <!-- ################################## -->
        <record model="ir.ui.view" id="endorsement_contract_activation_history_view_form">
            <field name="model">endorsement.contract.activation_history</field>
            <field name="type">form</field>
            <field name="name">endorsement_contract_activation_history_form</field>
        </record>
        <record model="ir.ui.view" id="endorsement_contract_activation_history_view_list">
            <field name="model">endorsement.contract.activation_history</field>
            <field name="type">tree</field>
            <field name="name">endorsement_contract_activation_history_list</field>
        </record>
        <!-- ################# -->
        <!-- # Access Rights # -->
        <!-- ################# -->
        <record model="res.group" id="group_endorsement_super_user">
            <field name="name">Endorsement Super User</field>
        </record>
        <record model="res.group" id="group_endorsement_admin">
            <field name="name">Endorsement Administration</field>
        </record>
        <record model="res.user-res.group" id="user_admin_group_endorsement_super_user">
            <field name="user" ref="res.user_admin"/>
            <field name="group" ref="group_endorsement_super_user"/>
        </record>
        <record model="res.user-res.group" id="user_admin_group_endorsement_admin">
            <field name="user" ref="res.user_admin"/>
            <field name="group" ref="group_endorsement_admin"/>
        </record>
        <record model="ir.model.button" id="endorsement_draft_button">
            <field name="name">draft</field>
            <field name="model" search="[('model', '=', 'endorsement')]"/>
        </record>
        <record model="ir.model.button" id="endorsement_cancel_button">
            <field name="name">cancel</field>
            <field name="model" search="[('model', '=', 'endorsement')]"/>
        </record>
        <record model="ir.model.button" id="endorsement_decline_button">
            <field name="name">decline</field>
            <field name="model" search="[('model', '=', 'endorsement')]"/>
        </record>
        <record model="ir.model.button-res.group" id="endorsement_draft_button_group_endorsement_super_user">
            <field name="button" ref="endorsement_draft_button"/>
            <field name="group" ref="group_endorsement_super_user"/>
        </record>
        <record model="ir.model.button-res.group" id="endorsement_cancel_button_group_endorsement_super_user">
            <field name="button" ref="endorsement_cancel_button"/>
            <field name="group" ref="group_endorsement_super_user"/>
        </record>
        <record model="ir.model.button-res.group" id="endorsement_decline_button_group_endorsement_super_user">
            <field name="button" ref="endorsement_decline_button"/>
            <field name="group" ref="group_endorsement_super_user"/>
        </record>
        <record model="ir.model.access" id="endorsement_sub_state_access">
            <field name="model" search="[('model', '=', 'endorsement.sub_state')]"/>
            <field name="group" ref="group_endorsement_super_user"/>
            <field name="perm_read" eval="True"/>
            <field name="perm_write" eval="True"/>
            <field name="perm_create" eval="True"/>
            <field name="perm_delete" eval="True"/>
        </record>
        <record model="ir.model.access" id="endorsement_sub_state_access_user">
            <field name="model" search="[('model', '=', 'endorsement.sub_state')]"/>
            <field name="perm_read" eval="True"/>
            <field name="perm_write" eval="False"/>
            <field name="perm_create" eval="False"/>
            <field name="perm_delete" eval="False"/>
        </record>
        <record model="ir.model.access" id="endorsement_configuration_access">
            <field name="model" search="[('model', '=', 'endorsement.configuration')]"/>
            <field name="group" ref="group_endorsement_admin"/>
            <field name="perm_read" eval="True"/>
            <field name="perm_write" eval="True"/>
            <field name="perm_create" eval="True"/>
            <field name="perm_delete" eval="True"/>
        </record>
        <record model="ir.model.access" id="endorsement_configuration_access_user">
            <field name="model" search="[('model', '=', 'endorsement.configuration')]"/>
            <field name="perm_read" eval="True"/>
            <field name="perm_write" eval="False"/>
            <field name="perm_create" eval="False"/>
            <field name="perm_delete" eval="False"/>
        </record>
        <!-- ############################################################ -->
        <!-- SubState -->
        <!-- ############################################################ -->
        <record model="ir.ui.view" id="endorsement_sub_state_view_list">
            <field name="model">endorsement.sub_state</field>
            <field name="type">tree</field>
            <field name="name">endorsement_sub_state_list</field>
        </record>
        <record model="ir.ui.view" id="endorsement_sub_state_view_form">
            <field name="model">endorsement.sub_state</field>
            <field name="type">form</field>
            <field name="name">endorsement_sub_state_form</field>
        </record>
        <record model="ir.action.act_window" id="act_endorsement_sub_state_form">
            <field name="name">Endorsement Sub-state</field>
            <field name="res_model">endorsement.sub_state</field>
        </record>
        <record model="ir.action.act_window.view" id="act_endorsement_sub_state_view_list">
            <field name="sequence" eval="10"/>
            <field name="view" ref="endorsement_sub_state_view_list"/>
            <field name="act_window" ref="act_endorsement_sub_state_form"/>
        </record>
        <record model="ir.action.act_window.view" id="act_endorsement_sub_state_form_view">
            <field name="sequence" eval="20"/>
            <field name="view" ref="endorsement_sub_state_view_form"/>
            <field name="act_window" ref="act_endorsement_sub_state_form"/>
        </record>
        <menuitem parent="offered.menu_contract_configuration" id="endorsement_sub_state_form" icon="tryton-tree" action="act_endorsement_sub_state_form"/>
        <!-- ############################### -->
        <!-- # Open Generated Endorsements # -->
        <!-- ############################### -->
        <record model="ir.action.wizard" id="act_open_generated">
            <field name="name">Open Generated Endorsements</field>
            <field name="wiz_name">endorsement.open_generated</field>
        </record>
        <record model="ir.action.keyword" id="act_open_generated_keyword">
            <field name="keyword">form_relate</field>
            <field name="model">endorsement,-1</field>
            <field name="action" ref="act_open_generated"/>
        </record>
        <!-- ################# -->
        <!-- # Configuration # -->
        <!-- ################# -->
        <record model="ir.sequence.type" id="sequence_type_number">
            <field name="name">Endorsement Number</field>
            <field name="code">endorsement_number</field>
        </record>
        <record model="ir.sequence" id="sequence_number">
            <field name="name">Endorsement Number Sequence</field>
            <field name="code">endorsement_number</field>
        </record>
        <record model="endorsement.configuration" id="endorsement_configuration">
            <field name="endorsement_number_sequence" ref="sequence_number"/>
        </record>
        <record model="ir.sequence.type-res.group" id="sequence_type_number_group_admin">
            <field name="sequence_type" ref="sequence_type_number"/>
            <field name="group" ref="res.group_admin"/>
        </record>
        <record model="ir.sequence.type-res.group" id="sequence_type_number_group_endorsement_admin">
            <field name="sequence_type" ref="sequence_type_number"/>
            <field name="group" ref="group_endorsement_admin"/>
        </record>
        <record model="ir.ui.view" id="configuration_view_form">
            <field name="model">endorsement.configuration</field>
            <field name="type">form</field>
            <field name="name">configuration_form</field>
        </record>
        <record model="ir.action.act_window" id="act_configuration_form">
            <field name="name">Endorsement Configuration</field>
            <field name="res_model">endorsement.configuration</field>
        </record>
        <record model="ir.action.act_window.view" id="act_configuration_view1">
            <field name="sequence" eval="1"/>
            <field name="view" ref="configuration_view_form"/>
            <field name="act_window" ref="act_configuration_form"/>
        </record>
        <menuitem parent="offered.menu_contract_configuration" action="act_configuration_form" id="menuitem_endorsement_configuration" sequence="0" icon="tryton-preferences"/>
    </data>
    <data depends="task_manager">
        <menuitem name="Endorsements" id="menu_endorsement_tasks" sequence="100" action="act_all_endorsements" parent="task_manager.menu_task"/>
        <record model="ir.ui.menu-res.group" id="group_endorsement_admin_menu_all">
            <field name="group" ref="group_endorsement_admin"/>
            <field name="menu" ref="menu_endorsement_tasks"/>
        </record>
    </data>
</tryton>
