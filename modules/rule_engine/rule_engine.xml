<?xml version="1.0" encoding="UTF-8"?>
<tryton>
    <data>
        <menuitem name="Rule Engine" id="menu_rule_engine"/>

        <record model="ir.ui.view" id="rule_form">
            <field name="model">rule_engine</field>
            <field name="type">form</field>
            <field name="name">rule_engine_form</field>
        </record>
        <record model="ir.ui.view" id="rule_tree">
            <field name="model">rule_engine</field>
            <field name="type">tree</field>
            <field name="name">rule_engine_tree</field>
        </record>
        <record model="ir.action.act_window" id="rule_window">
            <field name="name">Rules</field>
            <field name="res_model">rule_engine</field>
        </record>
        <record model="ir.action.act_window.view" id="rule_tree_view">
            <field name="sequence" eval="10"/>
            <field name="view" ref="rule_tree"/>
            <field name="act_window" ref="rule_window"/>
        </record>
        <record model="ir.action.act_window.view" id="rule_form_view">
            <field name="sequence" eval="20"/>
            <field name="view" ref="rule_form"/>
            <field name="act_window" ref="rule_window"/>
        </record>
        <menuitem parent="menu_rule_engine" action="rule_window" id="menu_rule"/>

        <record model="ir.ui.view" id="test_case_form">
            <field name="model">rule_engine.test_case</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
                <![CDATA[
                <form string="Test Case">
                    <label name="rule"/>
                    <field name="rule"/>
                    <label name="description"/>
                    <field name="description"/>
                    <field name="values" colspan="4"/>
                    <label name="expected_result"/>
                    <field name="expected_result" colspan="3"/>
                </form>
                ]]>
            </field>
        </record>
        <record model="ir.ui.view" id="test_case_tree">
            <field name="model">rule_engine.test_case</field>
            <field name="type">tree</field>
            <field name="arch" type="xml">
                <![CDATA[
                <tree string="Test Case">
                    <field name="description"/>
                    <field name="expected_result"/>
                </tree>
                ]]>
            </field>
        </record>
        <record model="ir.action.act_window" id="test_case_window_relate">
            <field name="name">Test Cases</field>
            <field name="res_model">rule_engine.test_case</field>
            <field name="domain">[('rule', '=', Eval('active_id'))]</field>
        </record>
        <record model="ir.action.act_window.view" id="test_case_tree_view">
            <field name="sequence" eval="10"/>
            <field name="view" ref="test_case_tree"/>
            <field name="act_window" ref="test_case_window_relate"/>
        </record>
        <record model="ir.action.act_window.view" id="test_case_form_view">
            <field name="sequence" eval="20"/>
            <field name="view" ref="test_case_form"/>
            <field name="act_window" ref="test_case_window_relate"/>
        </record>
        <record model="ir.action.keyword" id="test_case_relate">
            <field name="keyword">form_relate</field>
            <field name="model">rule_engine,-1</field>
            <field name="action" ref="test_case_window_relate"/>
        </record>

        <record model="ir.ui.view" id="test_case_value_form">
            <field name="model">rule_engine.test_case.value</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
                <![CDATA[
                <form string="Test Case Value">
                    <label name="test_case"/>
                    <field name="test_case" colspan="3"/>
                    <label name="name"/>
                    <field name="name"/>
                    <label name="value"/>
                    <field name="value"/>
                </form>
                ]]>
            </field>
        </record>
        <record model="ir.ui.view" id="test_case_value_tree">
            <field name="model">rule_engine.test_case.value</field>
            <field name="type">tree</field>
            <field name="arch" type="xml">
                <![CDATA[
                <tree string="Test Case Value" editable="bottom">
                    <field name="name"/>
                    <field name="value"/>
                </tree>
                ]]>
            </field>
        </record>

        <record model="ir.ui.view" id="context_form">
            <field name="model">rule_engine.context</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
                <![CDATA[
                <form string="Context">
                    <label name="name"/>
                    <field name="name"/>
                    <field name="allowed_elements" colspan="4"/>
                </form>
                ]]>
            </field>
        </record>
        <record model="ir.ui.view" id="context_tree">
            <field name="model">rule_engine.context</field>
            <field name="type">tree</field>
            <field name="arch" type="xml">
                <![CDATA[
                <tree string="Contexts">
                    <field name="name"/>
                </tree>
                ]]>
            </field>
        </record>
        <record model="ir.action.act_window" id="context_window">
            <field name="name">Contexts</field>
            <field name="res_model">rule_engine.context</field>
        </record>
        <record model="ir.action.act_window.view" id="context_tree_view">
            <field name="sequence" eval="10"/>
            <field name="view" ref="context_tree"/>
            <field name="act_window" ref="context_window"/>
        </record>
        <record model="ir.action.act_window.view" id="context_form_view">
            <field name="sequence" eval="20"/>
            <field name="view" ref="context_form"/>
            <field name="act_window" ref="context_window"/>
        </record>
        <menuitem parent="menu_rule_engine" action="context_window" id="menu_context"/>

        <record model="ir.ui.view" id="tree_element_form">
            <field name="model">rule_engine.tree_element</field>
            <field name="type">form</field>
            <field name="name">tree_element_form</field>
        </record>
        <record model="ir.ui.view" id="tree_element_tree">
            <field name="model">rule_engine.tree_element</field>
            <field name="type">tree</field>
            <field name="field_childs">children</field>
            <field name="name">tree_element_tree</field>
        </record>
        <record model="ir.action.act_window" id="tree_element_window">
            <field name="name">Tree Elements</field>
            <field name="res_model">rule_engine.tree_element</field>
        </record>
        <record model="ir.action.act_window.view" id="tree_element_tree_view">
            <field name="sequence" eval="10"/>
            <field name="view" ref="tree_element_tree"/>
            <field name="act_window" ref="tree_element_window"/>
        </record>
        <record model="ir.action.act_window.view" id="tree_element_form_view">
            <field name="sequence" eval="20"/>
            <field name="view" ref="tree_element_form"/>
            <field name="act_window" ref="tree_element_window"/>
        </record>
        <menuitem parent="menu_rule_engine" action="tree_element_window" id="menu_tree_element"/>

        <record model="ir.ui.view" id="test_rule_start_form">
            <field name="model">rule_engine.test_rule.start</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
                <![CDATA[
                <form string="Test Rule">
                    <separator name="context"/>
                    <field name="context" colspan="4"/>
                </form>
                ]]>
            </field>
        </record>
        <record model="ir.ui.view" id="test_rule_test_form">
            <field name="model">rule_engine.test_rule.test</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
                <![CDATA[
                <form string="Test Rule">
                    <separator name="result"/>
                    <field name="result" colspan="4"/>
                </form>
                ]]>
            </field>
        </record>
        <record model="ir.action.wizard" id="test_rule_wizard">
            <field name="name">Test Rule</field>
            <field name="wiz_name">rule_engine.test_rule</field>
            <field name="model">rule_engine</field>
        </record>
        <record model="ir.action.keyword" id="test_rule_keyword">
            <field name="keyword">form_action</field>
            <field name="model">rule_engine,-1</field>
            <field name="action" ref="test_rule_wizard"/>
        </record>

        <record model="ir.action.wizard" id="create_test_values_wizard">
            <field name="name">Create Test Values</field>
            <field name="wiz_name">rule_engine.create_test_values</field>
            <field name="model">rule_engine.test_case</field>
        </record>
        <record model="ir.action.keyword" id="create_test_values_keyword">
            <field name="keyword">form_action</field>
            <field name="model">rule_engine.test_case,-1</field>
            <field name="action" ref="create_test_values_wizard"/>
        </record>

        <record model="ir.ui.view" id="run_tests_report">
            <field name="model">rule_engine.run_tests.report</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
                <![CDATA[
                <form string="Tests Report">
                    <field name="report" colspan="4"/>
                </form>
                ]]>
            </field>
        </record>
        <record model="ir.action.wizard" id="run_tests_wizard">
            <field name="name">Run Tests</field>
            <field name="wiz_name">rule_engine.run_tests</field>
            <field name="model">rule_engine</field>
        </record>
        <record model="ir.action.keyword" id="run_tests_keyword">
            <field name="keyword">form_action</field>
            <field name="model">rule_engine,-1</field>
            <field name="action" ref="run_tests_wizard"/>
        </record>

        <record model="ir.ui.view" id="create_test_case_start_view">
            <field name="model">rule_engine.create_test_case.start</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
                <![CDATA[
                <form string="Create Test Case" col="2">
                    <group id="input" yexpand="1" yfill="1" col="1">
                        <field name="test_values"/>
                        <field name="rule_text"/>
                    </group>
                    <group id="result_value" yexpand="1" yfill="1" col="2">
                        <label name="result_value"/>
                        <field name="result_value"/>
                        <separator name="result_messages" colspan="2"/>
                        <field name="result_messages" colspan="2"/>
                        <separator name="result_errors" colspan="2"/>
                        <field name="result_errors" colspan="2"/>
                        <separator name="debug" colspan="2"/>
                        <field name="debug" colspan="2"/>
                    </group>
                </form>
                ]]>
            </field>
        </record>
        <record model="ir.ui.view" id="create_test_case_ask_description">
            <field name="model">rule_engine.create_test_case.ask_description</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
                <![CDATA[
                <form string="Enter Description">
                    <label name="description"/>
                    <field name="description"/>
                </form>
                ]]>
            </field>
        </record>
        <record model="ir.action.wizard" id="create_test_case_wizard">
            <field name="name">Create Test Case</field>
            <field name="wiz_name">rule_engine.create_test_case</field>
            <field name="model">rule_engine</field>
        </record>
        <record model="ir.action.keyword" id="create_test_case_keyword">
            <field name="keyword">form_action</field>
            <field name="model">rule_engine,-1</field>
            <field name="action" ref="create_test_case_wizard"/>
        </record>

        <!-- Move table menu to rule engine -->
        <menuitem action="table.act_table_definition_form"
            sequence="50"
            id="table.menu_table_defintion_form" parent ="menu_rule_engine"/>

        <!-- Rule Error -->
        <record model="ir.ui.view" id="error_form">
            <field name="model">rule_engine.error</field>
            <field name="type">form</field>
            <field name="name">error_form</field>
        </record>
        <record model="ir.ui.view" id="error_tree">
            <field name="model">rule_engine.error</field>
            <field name="type">tree</field>
            <field name="name">error_tree</field>
        </record>
        <record model="ir.action.act_window" id="error_window">
            <field name="name">Rule Errors</field>
            <field name="res_model">rule_engine.error</field>
        </record>
        <record model="ir.action.act_window.view" id="error_tree_view">
            <field name="sequence" eval="10"/>
            <field name="view" ref="error_tree"/>
            <field name="act_window" ref="error_window"/>
        </record>
        <record model="ir.action.act_window.view" id="error_form_view">
            <field name="sequence" eval="20"/>
            <field name="view" ref="error_form"/>
            <field name="act_window" ref="error_window"/>
        </record>
        <menuitem parent="menu_rule_engine" action="error_window" id="menu_error"/>
    </data>
</tryton>
