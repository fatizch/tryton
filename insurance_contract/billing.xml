<?xml version="1.0"?>
<tryton>
    <data>

    <!--################################################################-->
    <!--                        Bill Line Tree                          -->
    <!--################################################################-->

        <record model="ir.ui.view" id="generic_line_tree">
            <field name="model">ins_contract.billing.generic_line</field>
            <field name="type">tree</field>
            <field name="field_childs">childs</field>
            <field name="arch" type="xml">
                    <![CDATA[
                        <tree string="Bill Lines">
                            <field name="name"/>
                            <field name="start_date"/>
                            <field name="end_date"/>
                            <field name="amount_ht"/>
                            <field name="amount_ttc"/>
                            <field name="base_price"/>
                        </tree>
                    ]]>
            </field>
        </record>

    <!--################################################################-->
    <!--                           Bill Line Form                       -->
    <!--################################################################-->

        <record model="ir.ui.view" id="generic_line_form">
            <field name="model">ins_contract.billing.generic_line</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
                    <![CDATA[
                        <form string="Bill Summary">
                            <label name="start_date" xalign="0"/>
                            <field name="start_date"/>
                            <label name="end_date" xalign="0"/>
                            <field name="end_date"/>
                            <newline/>
                            <label name="amount_ht" xalign="0"/>
                            <field name="amount_ht"/>
                            <label name="amount_ttc" xalign="0"/>
                            <field name="amount_ttc"/>
                            <newline/>
                            <label name="base_price"/>
                            <field name="base_price"/>
                            <label name="on_object"/>
                            <field name="on_object"/>
                        </form>
                    ]]>
            </field>
        </record>

        <!-- View for the main menu and the event -->
        <record model="ir.action.act_window" id="act_generic_line_form">
            <field name="name">Bill Line</field>
            <field name="res_model">ins_contract.billing.generic_line</field>
        </record>

        <!-- View that connect the form in the tree with the specification -->
        <record model="ir.action.act_window.view" id="act_generic_line_form_view1">
            <field name="sequence" eval="10" />
            <field name="view" ref="generic_line_tree" />
            <field name="act_window" ref="act_generic_line_form" />
        </record>

        <!-- View for the edition or the Form of product -->
        <record model="ir.action.act_window.view" id="act_generic_line_form_view2">
            <field name="sequence" eval="20" />
            <field name="view" ref="generic_line_form" />
            <field name="act_window" ref="act_generic_line_form" />
        </record>

    <!--################################################################-->
    <!--                            Bill Tree                           -->
    <!--################################################################-->

        <record model="ir.ui.view" id="bill_tree">
            <field name="model">ins_contract.billing.bill</field>
            <field name="type">tree</field>
            <field name="arch" type="xml">
                    <![CDATA[
                        <tree string="Bills">
                            <field name="id"/>
                            <field name="start_date"/>
                            <field name="end_date"/>
                            <field name="amount_ht"/>
                            <field name="amount_ttc"/>
                            <field name="for_contract"/>
                        </tree>
                    ]]>
            </field>
        </record>

    <!--################################################################-->
    <!--                             Bill Form                          -->
    <!--################################################################-->

        <record model="ir.ui.view" id="bill_form">
            <field name="model">ins_contract.billing.bill</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
                    <![CDATA[
                        <form string="Bill Summary">
                            <group id="Basic Data">
                                <label name="start_date" xalign="0"/>
                                <field name="start_date"/>
                                <label name="end_date" xalign="0"/>
                                <field name="end_date"/>
                                <newline/>
                                <label name="amount_ht" xalign="0"/>
                                <field name="amount_ht"/>
                                <label name="amount_ttc" xalign="0"/>
                                <field name="amount_ttc"/>
                                <newline/>
                                <label name="for_contract"/>
                                <field name="for_contract"/>
                            </group>
                            <newline/>
                            <group id="Bill Lines" yfill="1" yexpand="1">
                                <field name="lines" mode="tree"
                                    yexpand="1" yfill="1"/>
                            </group>
                        </form>
                    ]]>
            </field>
        </record>

        <!-- View for the main menu and the event -->
        <record model="ir.action.act_window" id="act_bill_form">
            <field name="name">Bill</field>
            <field name="res_model">ins_contract.billing.bill</field>
        </record>

        <!-- View that connect the form in the tree with the specification -->
        <record model="ir.action.act_window.view" id="act_bill_form_view1">
            <field name="sequence" eval="10" />
            <field name="view" ref="bill_tree" />
            <field name="act_window" ref="act_bill_form" />
        </record>

        <!-- View for the edition or the Form of product -->
        <record model="ir.action.act_window.view" id="act_bill_form_view2">
            <field name="sequence" eval="20" />
            <field name="view" ref="bill_form" />
            <field name="act_window" ref="act_bill_form" />
        </record>

    <!--################################################################-->
    <!--                           Menus                                -->
    <!--################################################################-->

        <!-- Application Entry point -->
        <menuitem parent="menu_contract" sequence="50"
            id="menu_bill_view" icon="tryton-list" action="act_bill_form" />

    </data>
</tryton>