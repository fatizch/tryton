<?xml version="1.0" encoding="UTF-8"?>
<tryton>
	<data>

    <!--################################################################-->
    <!--                       Generic Extension                        -->
    <!--################################################################-->

        <record model="ir.ui.view" id="generic_extension_view_form">
            <field name="model">ins_contract.generic_extension</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
                     <![CDATA[
                     <form string="Extension">
                         <group id="elements" yfill="1" yexpand="1">
                            <field name="covered_elements" yfill="1" yexpand="1"/>
                         </group>
                         <newline/>
                         <group id="dynamic_data">
                             <field name="dynamic_data"/>
                         </group>
                     </form>               ]]>
            </field>
        </record>

    <!--################################################################-->
    <!--                           Price Lines                          -->
    <!--################################################################-->

        <record model="ir.ui.view" id="price_lines_expandable_tree">
            <field name="model">ins_contract.price_line</field>
            <field name="type">tree</field>
            <field name="field_childs">child_lines</field>
            <field name="arch" type="xml">
                    <![CDATA[
                        <tree string="Pricing Lines">
                            <field name="name"/>
                            <field name="amount_for_display"/>
                            <field name="taxes"/>
                        </tree>
                    ]]>
            </field>
        </record>

        <record model="ir.ui.view" id="price_lines_tree">
            <field name="model">ins_contract.price_line</field>
            <field name="type">tree</field>
            <field name="arch" type="xml">
                    <![CDATA[
                        <tree string="Pricing Lines">
                            <field name="name"/>
                            <field name="start_date_calculated"/>
                            <field name="end_date_calculated"/>
                            <field name="amount_for_display"/>
                            <field name="taxes"/>
                        </tree>
                    ]]>
            </field>
        </record>

        <record model="ir.ui.view" id="price_line_view_form">
            <field name="model">ins_contract.price_line</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
                     <![CDATA[
                     <form string="price_line">
                         <group id="General">
                             <label name="start_date_calculated" xalign="0"/>
                             <field name="start_date_calculated" xexpand="1"/>
                             <label name="end_date_calculated" xalign="0"/>
                             <field name="end_date_calculated" xexpand="1"/>
                             <newline/>
                             <label name="amount_for_display" xalign="0"/>
                             <field name="amount_for_display" xexpand="1"/>
                             <label name="taxes" xalign="0"/>
                             <field name="taxes" xexpand="1"/>
                         </group>
                         <newline/>
                         <field name="child_lines" mode="tree" yfill="1"
                             yexpand="1" xfill="1" 
                             view_ids="insurance_contract.price_lines_tree"/>
                         <field name="details" mode="tree" yfill="1"
                             yexpand="1" xfill="1"
                             view_ids="insurance_contract.price_lines_tree"/>
                     </form>               ]]>
            </field>
        </record>

    <!--################################################################-->
    <!--                        Billing Manager                         -->
    <!--################################################################-->

        <record model="ir.ui.view" id="billing_manager_view_form">
            <field name="model">ins_contract.billing_manager</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
                     <![CDATA[
                     <form string="billing_manager">
                         <group id="Administrative data">
                             <label name="next_billing_date" xalign="0"/>
                             <field name="next_billing_date" xexpand="1"/>
                         </group>
                         <newline/>
                         <group id="Pricing Data" yfill="1" yexpand="1">
                             <field name="prices" mode="tree" yfill="1"
                                 yexpand="1" xfill="1"
                                 view_ids="insurance_contract.price_lines_expandable_tree"/>
                         </group>
                     </form>               ]]>
            </field>
        </record>

    <!--################################################################-->
    <!--                       Contract Screens                         -->
    <!--################################################################-->

		<!-- Tree view for contract -->
		<record model="ir.ui.view" id="contract_view_tree">
			<field name="model">ins_contract.contract</field>
			<field name="type">tree</field>
			<field name="arch" type="xml">                 
					<![CDATA[                 
					<tree string="Contract">
    					<field name="contract_number"/>
                        <field name="subscriber"/>
                        <field name="status"/>
    					<field name="start_date"/>
    					<field name="product"/>
					</tree>                 ]]>
			</field>
		</record>

		<!-- form view -->
		<record model="ir.ui.view" id="contract_view_form">
			<field name="model">ins_contract.contract</field>
			<field name="type">form</field>
			<field name="arch" type="xml">
			    <![CDATA[
					<form string="contract" col="5">
						<group id="Administrative data">
						    <label name="status" xalign="0"/>
						    <field name="status"/>
						    <newline/>
							<label name="contract_number" xalign="0"/>
							<field name="contract_number" xfill="0" xalign="0"/>
							<label name="subscriber" xalign="0"/>
                            <field name="subscriber" xfill="0" xalign="0"/>
                            <newline/>
							<label name="start_date" xalign="0"/>
							<field name="start_date"/>
							<label name="product" xalign="0"/>
							<field name="product" xfill="1"/>
						</group>
						<newline/>
						<notebook>
						    <page string="Options" id="options">
							    <field name="options" xfill="1" yfill="1"/>
							</page>
							<page string="Billing" id="billing">
							    <field name="billing_manager" mode="form"
							        yexpand="1" yfill="1"/>
							</page>
							<page string="Dynamic Data" id="dynamic_data">
                                <field name="dynamic_data"/>
							</page>
						</notebook>
					</form>
                ]]>
			</field>
		</record>

		<!-- View for the main menu and the event -->
		<record model="ir.action.act_window" id="act_contract_form">
			<field name="name">Contract</field>
			<field name="res_model">ins_contract.contract</field>
		</record>

		<!-- View that connect the form in the tree with the specification -->
		<record model="ir.action.act_window.view" id="act_contract_form_view1">
			<field name="sequence" eval="10" />
			<field name="view" ref="contract_view_tree" />
			<field name="act_window" ref="act_contract_form" />
		</record>

		<!-- View for the edition or the Form of product -->
		<record model="ir.action.act_window.view" id="act_contract_form_view2">
			<field name="sequence" eval="20" />
			<field name="view" ref="contract_view_form" />
			<field name="act_window" ref="act_contract_form" />
		</record>

    <!--################################################################-->
    <!--                       Options Screens                          -->
    <!--################################################################-->

		<!-- Tree view -->
		<record model="ir.ui.view" id="option_view_tree">
			<field name="model">ins_contract.option</field>
			<field name="type">tree</field>
			<field name="arch" type="xml">                 
					<![CDATA[                 
					<tree string="option">
					<field name="contract"/>
					<field name="coverage"/>
					<field name="start_date"/>
					<field name="end_date"/>
					</tree>                 ]]>
			</field>
		</record>

		<!-- form view -->
		<record model="ir.ui.view" id="option_view_form">
			<field name="model">ins_contract.option</field>
			<field name="type">form</field>
			<field name="arch" type="xml">
					 <![CDATA[
					 <form string="option">
					 <label name="contract"/>
					 <field name="contract" xexpand="1"/>
					 <label name="coverage"/>
					 <field name="coverage" xexpand="1"/>
					 </form>               ]]>
			</field>
		</record>

		<!-- View for the main menu and the event -->
		<record model="ir.action.act_window" id="act_option_form">
			<field name="name">option</field>
			<field name="res_model">ins_contract.option</field>
		</record>

		<!-- View that connect the form in the tree with the specification -->
		<record model="ir.action.act_window.view" id="act_option_form_view1">
			<field name="sequence" eval="10" />
			<field name="view" ref="option_view_tree" />
			<field name="act_window" ref="act_option_form" />
		</record>

		<!-- View for the edition or the Form of coverage -->
		<record model="ir.action.act_window.view" id="act_option_form_view2">
			<field name="sequence" eval="20" />
			<field name="view" ref="option_view_form" />
			<field name="act_window" ref="act_option_form" />
		</record>

    <!--################################################################-->
    <!--                         Covered Data                           -->
    <!--################################################################-->

        <record model="ir.ui.view" id="covered_data_view_tree">
            <field name="model">ins_contract.covered_data</field>
            <field name="type">tree</field>
            <field name="arch" type="xml">                 
                    <![CDATA[                 
                    <tree string="Data">
                        <field name="coverage_name"/>
                        <field name="start_date"/>
                        <field name="end_date"/>
                    </tree>                 ]]>
            </field>
        </record>

        <record model="ir.ui.view" id="covered_data_view_form">
            <field name="model">ins_contract.covered_data</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
                    <![CDATA[
                    <form string="Covered Data">
                        <group id="dates">
                            <label name="start_date" xalign="0"/>
                            <field name="start_date"/>
                            <label name="end_date" xalign="0"/>
                            <field name="end_date"/>
                        </group>
                        <newline/>
                        <group id="coverage">
                            <label name="coverage_name" xalign="0"/>
                            <field name="coverage_name" xfill="1"/>
                        </group>
                        <newline/>
                        <group id="specific">
                        </group>
                        <newline/>
                        <group id="dynamic_data">
                            <field name="dynamic_data"/>
                        </group>
                    </form>               ]]>
            </field>
        </record>

    <!--################################################################-->
    <!--                       Covered Elements                         -->
    <!--################################################################-->

        <record model="ir.ui.view" id="covered_element_view_tree">
            <field name="model">ins_contract.covered_element</field>
            <field name="type">tree</field>
            <field name="arch" type="xml">                 
                    <![CDATA[                 
                    <tree string="Covered Elements">
                    </tree>                 ]]>
            </field>
        </record>

        <record model="ir.ui.view" id="covered_element_view_form">
            <field name="model">ins_contract.covered_element</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
                     <![CDATA[
                     <form string="Covered Element">
                         <group id="product">
                         </group>
                         <newline/>
                         <group id="covered_data" yfill="1" yexpand="1">
                            <field name="covered_data" xfill="1" yfill="1" yexpand="1"/>
                         </group>
                     </form>               ]]>
            </field>
        </record>

    <!--################################################################-->
    <!--                           Menus                                -->
    <!--################################################################-->

        <!-- Application Entry point -->
        <menuitem name="Contract" id="menu_contract" sequence="11" />
        <menuitem parent="menu_contract" name="Individual Policy" id="menu_individual" sequence="10" />
        <menuitem parent="menu_individual" sequence="1"
            id="menu_contract_form" icon="tryton-list" action="act_contract_form" />

	</data>
</tryton>
