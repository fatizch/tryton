<?xml version="1.0"?>
<tryton>
    <data>
    <!--################################################################-->
    <!--                          Project View                          -->
    <!--################################################################-->

        <record model="ir.ui.view" id="project_view">
            <field name="model">ins_contract.subs_process.project</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
                    <![CDATA[ 
                        <form string="Subscription Process - Project Step">
                            <label name="start_date" xalign="0"/>
                            <field name="start_date" xfill="1"/>
                            <newline/>
                            <label name="broker" xalign="0"/>
                            <field name="broker" colspan="3"/>
                            <newline/>
                            <label name="subscriber_kind" xalign="0"/>
                            <field name="subscriber_kind" colspan="3"/>
                            <newline/>
                            <label name="subscriber" xalign="0"/>
                            <group id="subscriber" colspan="3" col="1">
                                <field name="subscriber_as_person"/>
                                <field name="subscriber_as_company"/>
                            </group>
                            <newline/>
                            <label name="product" xalign="0"/>
                            <field name="product" xfill="1" widget="selection" colspan="3"/>
                            <newline/>
                            <field name="subscriber_desc" widget="richtext" colspan="2"/>
                            <field name="product_desc" widget="richtext" colspan="2"/>
                        </form>
                    ]]>
            </field>
        </record>

    <!--################################################################-->
    <!--                       Coverage Displayer                       -->
    <!--################################################################-->

        <!-- View for the coverage displayer used in the subscription process -->
        <record model="ir.ui.view" id="coverage_displayer_tree">
            <field name="model">ins_contract.coverage_displayer</field>
            <field name="type">tree</field>
            <field name="arch" type="xml">
                    <![CDATA[
                        <tree string="Coverage Choices Tree" editable="top">
                            <field name="status"/>
                            <field name="coverage"/>
                            <field name="start_date"/>
                        </tree>
                    ]]>
            </field>
        </record>

    <!--################################################################-->
    <!--                     Option Selection View                      -->
    <!--################################################################-->

        <record model="ir.ui.view" id="option_selection_view">
            <field name="model">ins_contract.subs_process.option_selection</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
                    <![CDATA[
                        <form string="Subscription Process - Option Selection Step">
                            <field name="options"/>
                            <field name="for_product"/>
                            <field name="at_date"/>
                            <newline/>
                            <field name="dynamic_data"/>
                        </form>
                    ]]>
            </field>
        </record>

    <!--################################################################-->
    <!--                      Covered Data Desc                         -->
    <!--################################################################-->

        <record model="ir.ui.view" id="covered_data_desc_view_form">
            <field name="model">ins_contract.subs_process.covered_data_desc</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
                    <![CDATA[
                    <form string="Covered Data">
                        <group id="global">
                            <label name="status"/>
                            <field name="status"/>
                            <label name="coverage_name"/>
                            <field name="coverage_name"/>
                        </group>
                        <newline/>
                        <group id="dates">
                            <label name="start_date"/>
                            <field name="start_date"/>
                            <label name="end_date"/>
                            <field name="end_date"/>
                        </group>
                        <newline/>
                        <group id="specific">
                        </group>
                    </form>
                    ]]>
            </field>
        </record>

        <record model="ir.ui.view" id="covered_data_desc_view_tree">
            <field name="model">ins_contract.subs_process.covered_data_desc</field>
            <field name="type">tree</field>
            <field name="arch" type="xml">
                    <![CDATA[
                    <tree string="Covered Data" editable="top">
                        <field name="status"/>
                        <field name="coverage_name"/>
                        <field name="start_date"/>
                        <field name="end_date"/>
                    </tree>
                    ]]>
            </field>
        </record>

    <!--################################################################-->
    <!--                        Pricing Lines                           -->
    <!--################################################################-->

        <record model="ir.ui.view" id="lines_view">
            <field name="model">ins_contract.subs_process.lines</field>
            <field name="type">tree</field>
            <field name="field_childs">childs</field>
            <field name="arch" type="xml">
                    <![CDATA[
                        <tree string="Pricing Lines">
                            <field name="name"/>
                            <field name="value"/>
                            <field name="taxes"/>
                        </tree>
                    ]]>
            </field>
        </record>

    <!--################################################################-->
    <!--                       Summary View                             -->
    <!--################################################################-->

        <record model="ir.ui.view" id="summary_view">
            <field name="model">ins_contract.subs_process.summary</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
                    <![CDATA[
                        <form string="Subscription Process - Summary">
                            <field name="lines"/>
                        </form>
                    ]]>
            </field>
        </record>
        
    <!--################################################################-->
    <!--                          Menu Entries                          -->
    <!--################################################################-->

        <record model="ir.action.wizard" id="project_view_action">
            <field name="name">New Subscription Process</field>
            <field name="wiz_name">ins_contract.subs_process</field>
            <field name="model">ir.ui.menu</field>
        </record>

        <menuitem parent="menu_individual" action="project_view_action"
            id="menu_start_subs" />
        
    <!--################################################################-->
    <!--                          Actions Entries                       -->
    <!--################################################################-->

        <record model="ir.action.wizard" id="resume_subs_process">
            <field name="name">Resume Process</field>
            <field name="wiz_name">ins_contract.subs_process</field>
            <field name="model">ins_process.suspended_process</field>
        </record>
    </data>
    
    <!--################################################################-->
    <!--                          Init Data                             -->
    <!--################################################################-->
    
    <data>
        <record model="ins_process.process_desc" id="subs_process_desc">
            <field name="name">Subscription Process Descriptor</field>
            <field name="process_model">ins_contract.subs_process</field>
        </record>
        <record model="ins_process.step_desc" id="project_step_desc">
            <field name="button_next">True</field>
            <field name="button_previous"></field>
            <field name="button_check"></field>
            <field name="button_complete"></field>
            <field name="button_cancel">True</field>
            <field name="button_suspend">True</field>
            <field name="button_default">button_next</field>
            <field name="on_product_step">0</field>
            <field name="process" ref="subs_process_desc"/>
            <field name="virtual_step">0</field>
            <field name="sequence">1</field>
            <field name="step_model">ins_contract.subs_process.project</field>
        </record>
        <record model="ins_process.step_desc" id="option_selection_step_desc">
            <field name="button_next">True</field>
            <field name="button_previous">True</field>
            <field name="button_check">True</field>
            <field name="button_complete"></field>
            <field name="button_cancel">True</field>
            <field name="button_suspend">True</field>
            <field name="button_default">button_next</field>
            <field name="on_product_step">0</field>
            <field name="process" ref="subs_process_desc"/>
            <field name="virtual_step">0</field>
            <field name="sequence">2</field>
            <field name="step_model">ins_contract.subs_process.option_selection</field>
        </record>
        <record model="ins_process.step_desc" id="extension_step_desc">
            <field name="button_next">True</field>
            <field name="button_previous">True</field>
            <field name="button_check">True</field>
            <field name="button_complete"></field>
            <field name="button_cancel">True</field>
            <field name="button_suspend">True</field>
            <field name="button_default">button_next</field>
            <field name="on_product_step">1</field>
            <field name="process" ref="subs_process_desc"/>
            <field name="virtual_step">0</field>
            <field name="sequence">3</field>
            <field name="product_step_name">extension</field>
        </record>
        <record model="ins_process.step_desc" id="summary_step_desc">
            <field name="button_next"></field>
            <field name="button_previous">True</field>
            <field name="button_check"></field>
            <field name="button_complete">True</field>
            <field name="button_cancel">True</field>
            <field name="button_suspend">True</field>
            <field name="button_default">button_complete</field>
            <field name="on_product_step">0</field>
            <field name="process" ref="subs_process_desc"/>
            <field name="virtual_step">0</field>
            <field name="sequence">4</field>
            <field name="step_model">ins_contract.subs_process.summary</field>
        </record>
    </data>
</tryton>
        