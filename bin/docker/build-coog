#!/bin/sh

# This command builds a Coog Docker image
#
# The script uses `coog docker` command which requires
#     - the list of coog repos to consider
#     - for each repo the git tag / branch to archive
#     - the first repo tag is used as the image tag
#
# For example: `coog docker coog:1.6 trytond-modules:1.6 trytond:1.6` builds
#              an image tagged: coog/coog:1.6
#
# This script will read its informations from `tags` file

super_pass=secret
repos=`cat ./tags | xargs echo`

sudo ../coog/bin/coog docker build "$super_pass" "$repos"
